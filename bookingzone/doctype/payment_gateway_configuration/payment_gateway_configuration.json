{
    "name": "Payment Gateway Configuration",
    "module": "Accounts",
    "doctype": "DocType",
    "document_type": "Setup",
    "engine": "InnoDB",
    "field_order": [
        "gateway_details_section",
        "gateway_name",
        "gateway_type",
        "column_break_1",
        "is_active",
        "is_primary",
        "environment",
        "credentials_section",
        "api_key",
        "api_secret",
        "column_break_2",
        "merchant_id",
        "webhook_secret",
        "additional_config_section",
        "publishable_key",
        "client_id",
        "column_break_3",
        "account_id",
        "location_id",
        "routing_section",
        "routing_priority",
        "supported_currencies",
        "supported_methods",
        "fee_structure_section",
        "base_fee_percent",
        "per_transaction_fee",
        "column_break_4",
        "international_fee_percent",
        "chargeback_fee",
        "status_section",
        "last_sync",
        "status",
        "error_message"
    ],
    "fields": [
        {
            "fieldname": "gateway_details_section",
            "fieldtype": "Section Break",
            "label": "Gateway Details"
        },
        {
            "fieldname": "gateway_name",
            "fieldtype": "Data",
            "label": "Gateway Name",
            "reqd": 1,
            "unique": 1
        },
        {
            "fieldname": "gateway_type",
            "fieldtype": "Select",
            "label": "Gateway Type",
            "reqd": 1,
            "options": "\nStripe\nPayPal\nSquare\nAdyen\nAuthorize.Net\nBraintree\nGoCardless\nDatacap\nHyperswitch"
        },
        {
            "fieldname": "column_break_1",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "is_active",
            "fieldtype": "Check",
            "label": "Is Active",
            "default": 1
        },
        {
            "fieldname": "is_primary",
            "fieldtype": "Check",
            "label": "Is Primary Gateway"
        },
        {
            "fieldname": "environment",
            "fieldtype": "Select",
            "label": "Environment",
            "options": "Sandbox\nProduction",
            "default": "Sandbox"
        },
        {
            "fieldname": "credentials_section",
            "fieldtype": "Section Break",
            "label": "API Credentials"
        },
        {
            "fieldname": "api_key",
            "fieldtype": "Password",
            "label": "API Key"
        },
        {
            "fieldname": "api_secret",
            "fieldtype": "Password",
            "label": "API Secret"
        },
        {
            "fieldname": "column_break_2",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "merchant_id",
            "fieldtype": "Data",
            "label": "Merchant ID"
        },
        {
            "fieldname": "webhook_secret",
            "fieldtype": "Password",
            "label": "Webhook Secret"
        },
        {
            "fieldname": "additional_config_section",
            "fieldtype": "Section Break",
            "label": "Additional Configuration",
            "collapsible": 1
        },
        {
            "fieldname": "publishable_key",
            "fieldtype": "Data",
            "label": "Publishable Key"
        },
        {
            "fieldname": "client_id",
            "fieldtype": "Data",
            "label": "Client ID"
        },
        {
            "fieldname": "column_break_3",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "account_id",
            "fieldtype": "Data",
            "label": "Account ID"
        },
        {
            "fieldname": "location_id",
            "fieldtype": "Data",
            "label": "Location ID",
            "description": "For Square and similar POS integrations"
        },
        {
            "fieldname": "routing_section",
            "fieldtype": "Section Break",
            "label": "Routing Configuration"
        },
        {
            "fieldname": "routing_priority",
            "fieldtype": "Int",
            "label": "Routing Priority",
            "default": 10,
            "description": "Lower number = higher priority"
        },
        {
            "fieldname": "supported_currencies",
            "fieldtype": "Small Text",
            "label": "Supported Currencies",
            "description": "Comma-separated currency codes (e.g., USD, EUR, GBP)"
        },
        {
            "fieldname": "supported_methods",
            "fieldtype": "Small Text",
            "label": "Supported Payment Methods",
            "description": "Comma-separated methods (e.g., credit_card, debit_card, ach)"
        },
        {
            "fieldname": "fee_structure_section",
            "fieldtype": "Section Break",
            "label": "Fee Structure",
            "collapsible": 1
        },
        {
            "fieldname": "base_fee_percent",
            "fieldtype": "Percent",
            "label": "Base Fee (%)",
            "description": "Percentage fee per transaction"
        },
        {
            "fieldname": "per_transaction_fee",
            "fieldtype": "Currency",
            "label": "Per Transaction Fee",
            "description": "Fixed fee per transaction"
        },
        {
            "fieldname": "column_break_4",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "international_fee_percent",
            "fieldtype": "Percent",
            "label": "International Fee (%)",
            "description": "Additional fee for international cards"
        },
        {
            "fieldname": "chargeback_fee",
            "fieldtype": "Currency",
            "label": "Chargeback Fee"
        },
        {
            "fieldname": "status_section",
            "fieldtype": "Section Break",
            "label": "Status"
        },
        {
            "fieldname": "last_sync",
            "fieldtype": "Datetime",
            "label": "Last Sync",
            "read_only": 1
        },
        {
            "fieldname": "status",
            "fieldtype": "Select",
            "label": "Status",
            "options": "Active\nInactive\nError",
            "read_only": 1
        },
        {
            "fieldname": "error_message",
            "fieldtype": "Small Text",
            "label": "Error Message",
            "read_only": 1
        }
    ],
    "permissions": [
        {
            "role": "System Manager",
            "read": 1,
            "write": 1,
            "create": 1,
            "delete": 1
        },
        {
            "role": "Accounts Manager",
            "read": 1,
            "write": 1,
            "create": 1,
            "delete": 0
        }
    ],
    "sort_field": "modified",
    "sort_order": "DESC",
    "title_field": "gateway_name",
    "autoname": "field:gateway_name"
}
